# مستندات API سرویس ارسال پیام در شاد

## مقدمه

سرویس ارسال پیام در شاد به منظور تسهیل ارسال پیام به کاربران اپلیکیشن شاد طراحی شده است. این API برای ارتباطات آموزشی، فرهنگی، و اجتماعی بین دانش‌آموزان، معلمان و مدیران در نظر گرفته شده است. پس از دریافت مجوزهای لازم، این سرویس می‌تواند برای ارسال پیام به کاربران ثبت‌شده در اپلیکیشن شاد مورد استفاده قرار گیرد.

## پیکربندی

برای استفاده از این سرویس، تنظیمات زیر باید انجام شود:

### 1. نام کاربری و رمز عبور
 کاربران یک نام کاربری و رمز عبور برای ورود به سامانه `همیار شاد` دریافت خواهند کرد که از طریق آدرس زیر قابل دسترسی است:
  
  ```
  http://hamyar.shadnoyan.com/
  ```

### 2. کلید سرویس (Service Key)
هر کاربر می‌تواند یک کلید API را در حساب `همیار شاد` خود ایجاد کند تا مجوزهای ارسال پیام را دریافت کند.  
برای ایجاد یک کلید، به گزینه "ایجاد کلید" مراجعه کرده و مراحل لازم را برای تولید کلید جدید دنبال کنید.  
پس از ایجاد، کلید می‌تواند کپی شده و برای درخواست‌های API مورد استفاده قرار گیرد.


### 3. شناسه سرویس (Service ID)
 شناسه سرویس یک شناسه منحصر به فرد برای هر سرویس کاربر در پلتفرم شاد است.

## متدهای وب سرویس

### متد `SendMessages`

این متد برای ارسال چندین پیام به کاربران از طریق پلتفرم شاد استفاده می‌شود.

 **آدرس وب سرویس**:
  ```
  https://msg.shadnoyan.com/api/v1/Shad/SendMessages
  ```

 **پارامترهای ورودی**:

  | **پارامتر**       | **نوع**     | **اجباری** | **توضیحات**                                      |
  |-------------------|-------------|------------|--------------------------------------------------|
  | `apiKey`          | `string`    | بله         | کلید API ارائه‌شده در پلتفرم همیار شاد            |
  | `serviceId`       | `int`       | بله         | شناسه منحصر به فرد سرویس                         |
  | `data`            | `array`     | بله         | آرایه‌ای از پیام‌ها و شماره‌های موبایل مرتبط      |

 **نمونه درخواست**:

  ```bash
  curl -X 'POST' \
  'https://msg.shadnoyan.com/api/v1/Shad/SendMessages' \
  -H 'accept: text/plain' \
  -H 'apiKey: [Your ApiKey]' \
  -H 'Content-Type: application/json' \
  -d '{
    "serviceId": [Your ServiceId],
    "data": [
      {
        "message": "[Message1]",
        "mobile": [Mobile1]
      },
      {
        "message": "[Message2]",
        "mobile": [Mobile2]
      }
    ]
  }'
  ```

 **نمونه پاسخ**:

  ```json
  {
    "data": [RequestId],
    "isSuccess": true,
    "statusCode": 200,
    "code": 200,
    "description": ""
  }
  ```

 **توضیحات پارامترها**:

  - `apiKey`: کلید API دریافت‌شده از پلتفرم همیار شاد.
  - `serviceId`: شناسه منحصر به فرد سرویس.
  - `data`: آرایه‌ای حاوی متن پیام و شماره موبایل هر گیرنده.

## نکات

1. اطمینان حاصل کنید که `apiKey` و `serviceId` به درستی پیکربندی شده باشند تا از بروز مشکلات احراز هویت جلوگیری شود.
2. داده‌های پیام باید به صورت یک آرایه JSON شامل متن پیام و شماره موبایل گیرنده‌ها فرمت‌بندی شوند.

**نسخه**: 1403، مهر ماه   
**منتشرکننده**: شرکت فن‌آوری شبکه آموزش دانش‌نویان